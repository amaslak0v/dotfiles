---
- defaults:
    link:
      relink: true
    brewfile:
      stdout: false
      stderr: false
      include: ['tap', 'brew', 'cask', 'mas']

- clean: ['~']

- link:
    ~/.tmux.conf: tmux.conf
    ~/.zshrc: zshrc
    ~/.config/nvim/init.vim: vimrc
    ~/.config/starship.toml: starship.toml
    ~/.macos: macos
    ~/.gitconfig: gitconfig
    ~/.config/karabiner: karabiner

- create:
    - ~/workspace

# - [brew bundle dump --describe]
- brewfile:
  file: Brewfile

- shell:
  - [chsh -s $(which zsh)]
  - [git submodule update --init --recursive, Installing submodules]
  - [bash macos]
  - [brew bundle dump --describe -f]

- crontab:
  - key: SHELL
    value: /bin/bash
    platform: darwin
  - key: RANDOM_DELAY
    value: 10
  - time: 0 5 * * *
    command: brew update && brew upgrade
    platform: darwin  
